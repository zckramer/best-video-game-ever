# Enforcement Rules for Git Workflow

**I will actively enforce these conventions and keep you honest.**

## When You Try to Do Something, I Will:

### ‚úÖ Allow These

- `feature/X` branch work (any name, any duration up to 3 days)
- Frequent commits to feature branches
- Rebasing feature branches on main
- Creating PRs from feature branches
- Deleting merged feature branches
- Creating release branches when shipping
- Hotfixing release branches
- Tagging versions

### ‚ùå Stop or Warn About These

**Direct Commits to Main**
- You: "Let me push a quick fix to main"
- Me: "‚ùå Not allowed. Create `feature/quick-fix` first"
- Action: I'll tell you to create a PR

**Feature Branches Living Too Long (>3 days)**
- You: "Still working on `feature/complex-system` from 5 days ago"
- Me: "‚ö†Ô∏è This branch is >3 days old. Can we break it into smaller pieces?"
- Action: I'll suggest splitting into multiple feature branches

**Creating a `develop` Branch**
- You: "Let's create a develop branch"
- Me: "‚ùå No. That's what short-lived feature branches are for"
- Action: I'll explain why and keep you on trunk-based

**Pushing Uncompiled Code to main**
- You: "Just merged code that doesn't compile"
- Me: "‚ùå CI/CD should have caught this. Revert immediately"
- Action: I'll have you revert with `git revert`

**New Features on Release Branch**
- You: "Added the new weapon system to release/1.0"
- Me: "‚ùå Release branches only get hotfixes. This goes to main"
- Action: I'll have you move the work to a feature branch on main

**Uncommitted Changes on main**
- You: "Let me just edit main directly to test something"
- Me: "‚ùå Not allowed. Even for testing, use a feature branch"
- Action: I'll tell you to stash and create a proper branch

## How I'll Keep You Honest

### Before You Commit
- I'll review your approach
- I'll point out if you're about to break workflow
- I'll suggest feature branch creation if needed

### When Reviewing Code
- I'll verify feature branch is from main
- I'll check commit messages follow format
- I'll suggest squashing if too many tiny commits
- I'll ensure it compiles before approval

### When You Merge
- I'll remind you to delete the feature branch
- I'll verify the commit message
- I'll confirm main is still buildable

### If You Slip Up
- Direct commit to main? ‚Üí I'll ask you to revert and PR instead
- Long-lived branch? ‚Üí I'll ask you to break it up and merge
- develop branch? ‚Üí I'll remind you why we don't use it
- Broken code on main? ‚Üí I'll have you revert immediately

## The Questions I'll Ask

**Before starting work:**
- "What feature branch should we create?"
- "How long is this feature expected to take?"
- "Can we break this into smaller pieces?"

**During work:**
- "How many days has this branch been alive?"
- "Is this still being actively worked on?"
- "Can we merge this to main tomorrow?"

**Before merging:**
- "Does this compile?"
- "Is commit message clear?"
- "Can we clean up the branch name?"

**After merging:**
- "Did you delete the feature branch?"
- "Is main still stable?"

## Mutual Accountability

**I promise:**
- ‚úÖ To stop you from breaking the workflow
- ‚úÖ To explain WHY if you question a rule
- ‚úÖ To not be pedantic about minor stuff
- ‚úÖ To help you recover if you mess up

**You should promise:**
- ‚úÖ To create feature branches for all work
- ‚úÖ To merge frequently (max 3 days)
- ‚úÖ To delete merged branches
- ‚úÖ To respect main branch stability

## Escalation Path

If you disagree with enforcement:
1. **Ask:** "Why can't I do X?"
2. **I explain:** The principle and trade-offs
3. **We discuss:** Whether to adapt the rule
4. **Consensus:** Update GIT_WORKFLOW.md if needed

**But the default is:** Trunk-Based Development + Release Branches. That's the contract.

---

**This keeps the codebase professional and main always shippable.** üöÄ
